<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.102.3" />


<link rel="shortcut icon" href="https://raw.githubusercontent.com/leeleelee3264/twitter_project/master/favicon.ico" />



<title>Digital certificate ì ìš©í•˜ê¸° - dev_leelee.log</title>


<meta name="author" content="leeleelee3264" />


<meta name="description" content="All about CA and apply Digital Certificate." />


<meta name="keywords" content="Infra" />


<meta property="og:title" content="Digital certificate ì ìš©í•˜ê¸°" />
<meta name="twitter:title" content="Digital certificate ì ìš©í•˜ê¸°" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leeleelee3264.github.io/post/2022-08-27-digital-certificate-part-final/" /><meta property="og:description" content="All about CA and apply Digital Certificate." />
<meta name="twitter:description" content="All about CA and apply Digital Certificate." /><meta property="og:image" content="https://leeleelee3264.github.io/img/og.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://leeleelee3264.github.io/img/og.png" /><meta property="article:published_time" content="2022-08-27T00:00:00+00:00" /><meta property="article:modified_time" content="2022-08-27T00:00:00+00:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>




<link rel="stylesheet" href="https://leeleelee3264.github.io/assets/css/fuji.min.css" />








</head>

<body
  data-theme="auto"
  data-theme-auto='true'
  >
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://leeleelee3264.github.io/">dev_leelee.log</a>
            
            <span class="title-sub">Logfile of Developer LeeLee</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://leeleelee3264.github.io/post/2022-08-27-digital-certificate-part-final/">Digital certificate ì ìš©í•˜ê¸°</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2022-08-27</span>

<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;4172 words</span>

<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/infra">Infra</a>&nbsp;</span>

    </div>
    
    <div class="post-content markdown-body">
        <br>
<br>
<blockquote>
<p>CAì™€ CAì—ì„œ Digital Certificateì„ ë°œê¸‰ë°›ì•„ì„œ ì ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•œë‹¤.</p>
</blockquote>
<br>
<p><strong>Index</strong></p>
<ol>
<li>CA</li>
<li>CAì—ì„œ ì¸ì¦ì„œ ìƒì„±í•˜ê¸°</li>
<li>ì¸ì¦ì„œ ì ìš©í•˜ê¸°</li>
<li>Chain of Trust</li>
<li>(plus) ì¸ì¦ì„œê°€ ì‚¬ìš©ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ëª¨ì‹ë„</li>
</ol>
<br>
<h1 id="ca">CA</h1>
<p>CAëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê¸°ê´€ì— ì˜í•´ ìš´ì˜ë˜ëŠ”ë°, ì£¼ìš” ì—…ë¬´ëŠ” ê³µê°œí‚¤ ë“±ë¡ ì‹œ ë³¸ì¸ ì¸ì¦ê³¼ X.509ì™€ ê°™ì€ ë””ì§€í„¸ ì¸ì¦ì„œ ìƒì„± ë° ë°œìƒ ë“±ì´ ìˆë‹¤.</p>
<h3 id="caì˜-í•„ìš”ì„±">CAì˜ í•„ìš”ì„±</h3>
<p>ê³µê°œí‚¤ì™€ ë¹„ë°€í‚¤ë§Œì„ ì´ìš©í•´ ì•”í˜¸í™”ëŠ” ìˆ˜í–‰í•˜ë©´ ë³´ì•ˆì— ë§¤ìš° ì·¨ì•½í•´ì§„ë‹¤. <em>[Picture 1]</em> ì—ì„œ í•´ì»¤ê°€ ì‚¬ìš©ì Bì—ê²Œ í•´ì»¤ì˜ ê³µê°œí‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³´ë‚¼ ê²½ìš° ì‚¬ìš©ì BëŠ” ì‚¬ìš©ì Aê°€ ë³´ë‚¸ ë°ì´í„°ë¼ì°©ê°í•  ìˆ˜ ìˆë‹¤. ì´ì™€ ê°™ì€ í•´ì»¤ì˜ ê³µê²© ë°©ì‹ì„ MTM(Man in the Middle Attack)ì´ë¼ê³  í•œë‹¤. ì´ì™€ ê°™ì€ ì·¨ì•½ì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ CA(Certificate Authority) ë¼ëŠ” ì¸ì¦ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.</p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4669931563.png" >
<figcaption align = "center">[Picture 1] Man in Middle Attack</figcaption>
<br> 
<h3 id="pkiì—ì„œ-caê°€-ì‚¬ìš©ë˜ëŠ”-ê³¼ì •">PKIì—ì„œ CAê°€ ì‚¬ìš©ë˜ëŠ” ê³¼ì •</h3>
<ul>
<li>ì‚¬ìš©ì Aê°€ ìì‹ ì˜ ê³µê°œí‚¤ë¥¼ CAì— ë“±ë¡í•œë‹¤. (ë³¸ì¸ ì¸ì¦ì„ ê±°ì¹œë‹¤)</li>
<li>ì‚¬ìš©ì Bê°€ ì‚¬ìš©ì Aì˜ ê³µê°œí‚¤ê°€ í•„ìš”í•  ê²½ìš° CAì— ê°€ì„œ ì‚¬ìš©ì Aì˜ ê³µê°œí‚¤ë¥¼ ìš”ì²­í•œë‹¤.</li>
<li>CAëŠ” ì‚¬ìš©ì Aì˜ ê³µê°œí‚¤ë¥¼ ì•”í™”í™”í•˜ì—¬ ì‚¬ìš©ì Bì—ê²Œ ì „ë‹¬í•œë‹¤.</li>
<li>ì‚¬ìš©ì BëŠ” í•´ë‹¹ ê³µê°œí‚¤ë§Œì„ ì‚¬ìš©ì Aì˜ ê³µê°œí‚¤ë¼ê³  ë¯¿ê²Œ ëœë‹¤.</li>
</ul>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4669997094.png" >
<figcaption align = "center">[Picture 2] PKIì—ì„œ CAê°€ ì‚¬ìš©ë˜ëŠ” ê³¼ì •</figcaption>
<br>
<h3 id="ca-ì—…ì²´">CA ì—…ì²´</h3>
<p>ìœ ëª…í•œ CAë“¤ì€ <em>[Picture 3]</em> ê°™ë‹¤. CAì˜ ì¸ì¦ì„œë¥¼ ëŒ€ë¦¬ êµ¬ë§¤í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ë“¤ì´ ì™¸êµ­ì—ë„, í•œêµ­ì—ë„ ìˆì§€ë§Œ ì§ì ‘ CAì— ê°€ì„œ ì‚¬ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤. CAì— ì§ì ‘ ê°€ì„œ êµ¬ë§¤í–ˆì„ ë•Œ QnAë‚˜ ëŒ€ì‘ë„ ë” ë¹ ë¥´ê³ , ìì„¸í•˜ë©° ë‚˜ì¤‘ì— ì¸ì¦ì„œë¥¼ ê´€ë¦¬í•  ë•Œì—ë„ ë” í¸í–ˆë‹¤.</p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666163323.png" >
<figcaption align = "center">[Picture 3] ìœ ëª…í•œ CA"</figcaption>
<br>
<h1 id="caì—ì„œ-ì¸ì¦ì„œ-ìƒì„±í•˜ê¸°">CAì—ì„œ ì¸ì¦ì„œ ìƒì„±í•˜ê¸°</h1>
<p>CAì—ì„œ ì¸ì¦ì„œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” SANê³¼ CSRì„ ì œì¶œí•´ì•¼ í•œë‹¤. CA ì—…ì²´ì— ë”°ë¼ì„œ ì¶”ê°€ ì„œë¥˜ë¥¼ ì œì¶œí•´ì•¼ í•  ìˆ˜ ìˆìœ¼ë‹ˆ ë°œê¸‰ ì „ì— í™•ì¸í•´ì•¼ í•œë‹¤.</p>
<h3 id="san">SAN</h3>
<ul>
<li>Subject Alternative Name ì˜ ì•½ìì´ë‹¤.</li>
<li><strong>Optional</strong> ì´ê³ , ì„ íƒí•œ ì¸ì¦ì„œì˜ ê°€ê²©ì— ë”°ë¼ì„œ ë³´ì¥í•˜ëŠ” SANì˜ ê°œìˆ˜ì—ë„ ì°¨ì´ê°€ ìˆë‹¤.</li>
<li>í•˜ë‚˜ì˜ ì¸ì¦ì„œë¡œ ì—¬ëŸ¬ê°œì˜ FQDN (Fully Qualified Domain Name)ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.</li>
<li>í•˜ë‚˜ì˜ IPë¡œ í–¥í–ëŠ” ë„ë©”ì¸ì´ ì—¬ëŸ¬ê°œê°€ ìˆì„ ë•Œ ìì£¼ ì‚¬ìš©ì´ ëœë‹¤.</li>
</ul>
<br>
<blockquote>
<p>SAN ì˜ˆì‹œ</p>
</blockquote>
<pre><code class="language-java">www.digicert.com 
knowledge.digicert.com 
www.thawte.com
</code></pre>
<br>
<h3 id="csr">CSR</h3>
<ul>
<li>Certificate signing request ì˜ ì•½ìì´ë‹¤.</li>
<li>CAì—ì„œ certificate ë°œê¸‰ë°›ê¸° ìœ„í•´ ë³´ë‚´ëŠ” ë©”ì„¸ì§€ì´ë‹¤.</li>
<li>ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” í¬ë§·ì€ PKCS #10ì´ë‹¤.</li>
<li>CSR ì„ ë§Œë“¤ê¸° ì „ì— PrivateKeyë¥¼ ë§Œë“œëŠ”ë°, ì´ PrivateKeyê°€ ë°”ë¡œ PKIì—ì„œ ì‚¬ìš©ë˜ëŠ” ê·¸ <strong>PrivateKeyë¡œ ì•„ë¬´í•œí…Œë„ ë…¸ì¶œí•˜ë©´ ì•ˆëœë‹¤.</strong></li>
<li><a href="https://my.gogetssl.com/en" target="_blank">[gogetssl]</a> ì²˜ëŸ¼ ì¸ì¦ì„œ ì¤‘ê°„ ìœ í†µ ì—…ì²´ë“¤ì´ ë•Œë•Œë¡œ CSRê³¼ PrivateKeyë¥¼ ì‚¬ìš©ìì—ê²Œ ì£¼ê¸°ë„ í•œë‹¤.</li>
</ul>
<br>
<h4 id="opensslë¡œ-csr-ìƒì„±í•˜ê¸°">OpenSSLë¡œ CSR ìƒì„±í•˜ê¸°</h4>
<pre><code class="language-shell">openssl req -new -newkey rsa:2048 -sha256 -nodes -keyout server.key -out server.csr
</code></pre>
<ul>
<li>Private keyì„ ìƒì„±í•œë‹¤.</li>
<li>ìƒì„±í•œ Private keyë¥¼ ì‚¬ìš©í•˜ì—¬ CSRì„ ìƒì„±í•œë‹¤.</li>
<li>CSRì„ ìƒì„±í•  ë•Œ <em>[Picture 4]</em> ì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì•¼ í•œë‹¤.</li>
</ul>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4632412194.png" >
<figcaption align = "center">[Picture 4] CSR ì…ë ¥ ì‚¬í•­</figcaption>
<br>
<h4 id="common-name">Common Name</h4>
<p>SANì´ ë‚˜ì˜¤ê³  ë‚˜ì„œë¶€í„° Common Nameì€ ì‹¤ì œì ì¸ íš¨ë ¥ ë³´ë‹¤ëŠ” ê³¼ê±°ì˜ ë ˆê±°ì‹œ í˜•íƒœë¡œ ë‚¨ì•„ìˆë‹¤. ì´ë²ˆì—ë„ CSRì„ ì‘ì„±í•  ë•Œ OVë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— Common Nameì— ë„ë©”ì¸ì„ ì“°ì§€ ì•Šê³  íšŒì‚¬ ì´ë¦„ì„ ë„£ì—ˆë‹¤.
Comman Nameì— ë„ë©”ì¸ì„ ë„£ëŠ”ë‹¤ë©´ ì¸ì¦ì„œê°€ ì„¤ì¹˜ë˜ëŠ” ì„œë²„ì˜ ì´ë¦„ê³¼ ì •í™•í•˜ê²Œ ë§¤ì¹˜í•´ì•¼ í•œë‹¤. ë§Œì•½ ì„œë¸Œ ë„ë©”ì¸ì„ ìœ„í•´ ì¸ì¦ì„œë¥¼ ë°œê¸‰í–ˆì„ ê²½ìš°ì—ëŠ” full ì„œë¸Œë„ë©”ì¸ì„ ì •í™•í•˜ê²Œ ëª…ì‹œí•´ì¤˜ì•¼í•œë‹¤.</p>
<br> 
<blockquote>
<p>Common Name ì˜ˆì‹œ</p>
</blockquote>
<pre><code class="language-java">ë„ë©”ì¸: mydomain.com 
ì„œë¸Œ ë„ë©”ì¸: www 
common name: www.domain.com
</code></pre>
<br> 
<h4 id="common-name-vs-san">Common Name vs SAN</h4>
<ul>
<li>common nameì€ ë‹¨ í•˜ë‚˜ì˜ ì—”íŠ¸ë¦¬ë§Œ ì…ë ¥ì„ í•  ìˆ˜ ìˆë‹¤.
<ul>
<li>wildcard ë˜ëŠ” non-wildcard ì´ë¼ë„ ë‹¨ í•˜ë‚˜ë§Œ ì…ë ¥ì„ í• ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì€ ë³€í•¨ì´ ì—†ë‹¤</li>
</ul>
</li>
<li>SANì€ common nameì˜ ì´ëŸ° ì œì•½ì„ ì—†ì• ê¸° ìœ„í•´ ìƒê²¨ë‚¬ë‹¤.
<ul>
<li>SANì´ ìˆê¸° ë•Œë¬¸ì— multi-name SSL ì¸ì¦ì„œë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.</li>
<li>SANì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ê°’ì„ ë„£ì„ ìˆ˜ ìˆê³ , Common Nameê³¼ ì¤‘ë³µë„ ê°€ëŠ¥í•˜ë‹¤.</li>
<li><strong>SANì´ ì„œë²„ ë„¤ì„ì´ ì¼ì¹˜í•˜ëŠ” ê°€ í™•ì¸í•˜ê¸° ìœ„í•œ ìœ ì¼í•œ í•„ìˆ˜ ë ˆí¼ëŸ°ìŠ¤ê°€ ë˜ì—ˆë‹¤.</strong></li>
</ul>
</li>
</ul>
<br>
<h1 id="ì¸ì¦ì„œ-ê´€ë ¨-ì»¤ë§¨ë“œ">ì¸ì¦ì„œ ê´€ë ¨ ì»¤ë§¨ë“œ</h1>
<h3 id="ì›¹ì‚¬ì´íŠ¸ì—ì„œ-ì‚¬ìš©í•˜ê³ -ìˆëŠ”-ì¸ì¦ì„œ-ê°€ì ¸ì˜¤ê¸°">ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì¸ì¦ì„œ ê°€ì ¸ì˜¤ê¸°</h3>
<pre><code class="language-java">echo | openssl s_client -servername google.com -connect google.com:443 |\\n  sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; certificate.crt
</code></pre>
<br>
<h3 id="ì¸ì¦ì„œ-ì—´ì–´ë³´ê¸°">ì¸ì¦ì„œ ì—´ì–´ë³´ê¸°</h3>
<pre><code class="language-java">openssl x509 -in certificate.crt -noout -text 
</code></pre>
<br> 
<details>
<summary>[íŒŒì‹± ê²°ê³¼ ì˜ˆì‹œ]</summary>
<pre><code class="language-java">Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            59:43:1c:7c:0e:b1:5c:49:0a:01:4e:60:34:b8:2c:b2
    Signature Algorithm: sha256WithRSAEncryption
        Issuer: C=US, O=Google Trust Services LLC, CN=GTS CA 1C3
        Validity
            Not Before: Apr 25 08:31:18 2022 GMT
            Not After : Jul 18 08:31:17 2022 GMT
        Subject: CN=*.google.com
        Subject Public Key Info:
            Public Key Algorithm: id-ecPublicKey
                Public-Key: (256 bit)
                pub:
                    04:81:63ğŸ†d3:29:a2:15:6c:ee:b7:43:66:55:c5:
                    88:6e:70:9b:4d:43:40:66:ea:a4:fc:c0:06:8b:4c:
                    fd:60:23:5f:f7:a0:e4:3c:5a:af:7f:e5:36:63:88:
                    55:dd:e2:60:41:6c:a1:27:3d:48:fb:2e:6a:21:6d:
                    01:aa:2e:25:7e
                ASN1 OID: prime256v1
                NIST CURVE: P-256
        X509v3 extensions:
            X509v3 Key Usage: critical
                Digital Signature
            X509v3 Extended Key Usage:
                TLS Web Server Authentication
            X509v3 Basic Constraints: critical
                CA:FALSE
            X509v3 Subject Key Identifier:
                8B:09:31:88:DD:30:A6:59:D3:86:E5:3D:EA:06:6D:F3:C0:25:96:D5
            X509v3 Authority Key Identifier:
                keyid:8A:74:7F:AF:85:CD:EE:95:CD:3D:9C:D0:E2:46:14:F3:71:35:1D:27

            Authority Information Access:
                OCSP - URI:http://ocsp.pki.goog/gts1c3
                CA Issuers - URI:http://pki.goog/repo/certs/gts1c3.der

            X509v3 Subject Alternative Name:
                DNS:*.google.com, DNS:*.appengine.google.com, DNS:*.bdn.dev, DNS:*.cloud.google.com, DNS:*.crowdsource.google.com, DNS:*.datacompute.google.com, DNS:*.google.ca, DNS:*.google.cl, DNS:*.google.co.in, DNS:*.google.co.jp, DNS:*.google.co.uk, DNS:*.google.com.ar, DNS:*.google.com.au, DNS:*.google.com.br, DNS:*.google.com.co, DNS:*.google.com.mx, DNS:*.google.com.tr, DNS:*.google.com.vn, DNS:*.google.de, DNS:*.google.es, DNS:*.google.fr, DNS:*.google.hu, DNS:*.google.it, DNS:*.google.nl, DNS:*.google.pl, DNS:*.google.pt, DNS:*.googleadapis.com, DNS:*.googleapis.cn, DNS:*.googlevideo.com, DNS:*.gstatic.cn, DNS:*.gstatic-cn.com, DNS:googlecnapps.cn, DNS:*.googlecnapps.cn, DNS:googleapps-cn.com, DNS:*.googleapps-cn.com, DNS:gkecnapps.cn, DNS:*.gkecnapps.cn, DNS:googledownloads.cn, DNS:*.googledownloads.cn, DNS:recaptcha.net.cn, DNS:*.recaptcha.net.cn, DNS:recaptcha-cn.net, DNS:*.recaptcha-cn.net, DNS:widevine.cn, DNS:*.widevine.cn, DNS:ampproject.org.cn, DNS:*.ampproject.org.cn, DNS:ampproject.net.cn, DNS:*.ampproject.net.cn, DNS:google-analytics-cn.com, DNS:*.google-analytics-cn.com, DNS:googleadservices-cn.com, DNS:*.googleadservices-cn.com, DNS:googlevads-cn.com, DNS:*.googlevads-cn.com, DNS:googleapis-cn.com, DNS:*.googleapis-cn.com, DNS:googleoptimize-cn.com, DNS:*.googleoptimize-cn.com, DNS:doubleclick-cn.net, DNS:*.doubleclick-cn.net, DNS:*.fls.doubleclick-cn.net, DNS:*.g.doubleclick-cn.net, DNS:doubleclick.cn, DNS:*.doubleclick.cn, DNS:*.fls.doubleclick.cn, DNS:*.g.doubleclick.cn, DNS:dartsearch-cn.net, DNS:*.dartsearch-cn.net, DNS:googletraveladservices-cn.com, DNS:*.googletraveladservices-cn.com, DNS:googletagservices-cn.com, DNS:*.googletagservices-cn.com, DNS:googletagmanager-cn.com, DNS:*.googletagmanager-cn.com, DNS:googlesyndication-cn.com, DNS:*.googlesyndication-cn.com, DNS:*.safeframe.googlesyndication-cn.com, DNS:app-measurement-cn.com, DNS:*.app-measurement-cn.com, DNS:gvt1-cn.com, DNS:*.gvt1-cn.com, DNS:gvt2-cn.com, DNS:*.gvt2-cn.com, DNS:2mdn-cn.net, DNS:*.2mdn-cn.net, DNS:googleflights-cn.net, DNS:*.googleflights-cn.net, DNS:admob-cn.com, DNS:*.admob-cn.com, DNS:*.gstatic.com, DNS:*.metric.gstatic.com, DNS:*.gvt1.com, DNS:*.gcpcdn.gvt1.com, DNS:*.gvt2.com, DNS:*.gcp.gvt2.com, DNS:*.url.google.com, DNS:*.youtube-nocookie.com, DNS:*.ytimg.com, DNS:android.com, DNS:*.android.com, DNS:*.flash.android.com, DNS:g.cn, DNS:*.g.cn, DNS:g.co, DNS:*.g.co, DNS:goo.gl, DNS:www.goo.gl, DNS:google-analytics.com, DNS:*.google-analytics.com, DNS:google.com, DNS:googlecommerce.com, DNS:*.googlecommerce.com, DNS:ggpht.cn, DNS:*.ggpht.cn, DNS:urchin.com, DNS:*.urchin.com, DNS:youtu.be, DNS:youtube.com, DNS:*.youtube.com, DNS:youtubeeducation.com, DNS:*.youtubeeducation.com, DNS:youtubekids.com, DNS:*.youtubekids.com, DNS:yt.be, DNS:*.yt.be, DNS:android.clients.google.com, DNS:developer.android.google.cn, DNS:developers.android.google.cn, DNS:source.android.google.cn
            X509v3 Certificate Policies:
                Policy: 2.23.140.1.2.1
                Policy: 1.3.6.1.4.1.11129.2.5.3

            X509v3 CRL Distribution Points:

                Full Name:
                  URI:http://crls.pki.goog/gts1c3/QOvJ0N1sT2A.crl

            1.3.6.1.4.1.11129.2.4.2:
                ......v.)y...99!.Vs.c.w..W}.`
..M]&amp;\%]......`........G0E.!......Y.Z...Z.s#...Al...&amp;......Wi. m.-a..._^,...#....D.tZ.j..W.g....w...^.h.O.l..._N&gt;Z.....j^.;.. D\*s....`..!.....H0F.!..6:.?...f..m.}%.r..........E.....!..U....G...%.$D.mG.B..
    Signature Algorithm: sha256WithRSAEncryption
         5c:2b:62:ec:f6:ee:92:0c:28:98:92:af:35:f0:78:5b:75:f2:
         a2:c5:e9:56:04:da:31:ed:0c:92:16:3a:14:47:f9:60:7d:e4:
         36:33:82:13:68:54:37:47:81:f8:b6:0e:66:a7:87:c4:f5:82:
         ca:58:62:a2:15:63:16:28:5b:8e:bc:e7:18:af:97:a2:f4:92:
         92:e3:2f:69:df:ba:7a:80:92:20:14:22:4f:3d:26:69:c6:f8:
         90:d1:2c:36:57:0a:5c:20:00:86:d2:bd:52:db:19:39:46:12:
         b0:65:1d:16:3d:f1:58:4b:d6:19:c0:4b:0d:eb:ad:0b:b9:1c:
         03:ad:cb:d1:04:33:a2:2c:b8:33:f6:01:7c:71:7f:e8:8a:32:
         c1:74:9a:11:f7ğŸ†b9:ff:f8:89:99:f3:f9:50:7b:31:c7:fa:
         fc:71:d1:c6:f2:b4:d2:82:93:84:ae:d8:eb:55:41:d4:de:9d:
         7f:47:44:05:4a:fb:a7:09:b2:89:99:a7:7f:64:13:52:be:73:
         ee:00:b9:1c:ad:e1:44:48:41:a4:77:55:8d:0a:c8:b0:bb:69:
         fe:9a:84:a5:cd:2d:a9:61:3b:60:92:e4:43:d6:2b:79:d6:5a:
         0d:db:f7:7f:7a:fc:7d:c3:59:e3:7d:d7:47:78:c2:b2:7d:6d:
         f2:7a:75:49
</code></pre>
</details>
<p>ê°„ë‹¨í•˜ê²Œ ì¸ì¦ì„œ ì¡°íšŒë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” online parserë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. <a href="https://certlogik.com/decoder/" target="_blank">[Online Parser]</a> íŒŒì‹±ì˜ ê²°ê³¼ë¡œ ë‚˜ì˜¨ fieldì— ëŒ€í•œ ì„¤ëª…ì€ <a href="https://leeleelee3264.github.io/infra/2022/06/15/digital-certificate-part-one.html" target="_blank">[LeeLee- Digital Certificate]</a> í¬ìŠ¤íŠ¸ ì—ì„œ ë” ìì„¸í•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<br>
<h1 id="ì¸ì¦ì„œ-ì ìš©í•˜ê¸°">ì¸ì¦ì„œ ì ìš©í•˜ê¸°</h1>
<h3 id="ca-bundle">CA bundle</h3>
<p>CAì—ì„œ ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ìœ¼ë©´ end-entity (ë‚´ application)ì˜ ì¸ì¦ì„œë§Œ ì˜¤ì§€ ì•ŠëŠ”ë‹¤. Root CAì˜ ì¸ì¦ì„œì™€ Intermediate ì¸ì¦ì„œê°€ í•¨ê»˜ ì˜¤ëŠ”ë° ì´ë¥¼ CA bundleì´ë¼ê³  í•œë‹¤. CA bundleì€ ì›¹ ë¸Œë¼ìš°ì € ë“±ì˜ í´ë¼ì´ì–¸íŠ¸ì™€ ì¸ì¦ì„œì˜ í˜¸ì™„ì„±ì„ ë†’íˆê¸° ìœ„í•´ì„œ ì‚¬ìš©ì´ ëœë‹¤.</p>
<br>
<blockquote>
<p>CA bundle ì˜ˆì‹œ</p>
</blockquote>
<pre><code class="language-java">Root CA ì¸ì¦ì„œ + Intermediate ì¸ì¦ì„œ + end-entity ì¸ì¦ì„œ = Certificate Chain
</code></pre>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4668522518.png" >
<figcaption align = "center">[Picture 5] CA bundle</figcaption>
<br>
<p>CA bundleì€ *.ca-bundle í™•ì¥ìì˜ zip íŒŒì¼ì´ë‚˜ root, intermediate ê°œë³„ë¡œ ì£¼ì–´ì§„ë‹¤. CA bundleì€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìˆœì°¨ì ìœ¼ë¡œ ì œê³µì´ ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ëŒ€ê²ŒëŠ” CAì—ì„œ ì´ë¯¸ í•˜ë‚˜ì˜ bundleì„ ë§Œë“¤ì–´ì„œ ì œê³µí•´ì¤€ë‹¤. ë§Œì•½ ê°œë³„ë¡œ ì£¼ì–´ì¡Œì„ ê²½ìš°ì—ëŠ” í•˜ë‚˜ì˜ ca-bundleë¡œ í•©ì³ì•¼ í•œë‹¤</p>
<br>
<blockquote>
<p>CA bundle í•©ì¹˜ê¸° ì˜ˆì‹œ</p>
</blockquote>
<ul>
<li>AddTrustExternalCARoot.crtÂ â€“&gt; Root CA Certificate</li>
<li>COMODORSAAddTrustCA.crtÂ â€“&gt; Intermediate CA Certificate 1</li>
<li>COMODORSADomainValidationSecureServerCA.crtÂ â€“&gt; Intermediate CA Certificate 2</li>
<li>yourDomain.crtÂ â€“&gt; Your SSL Certificate</li>
</ul>
<pre><code class="language-java">cat ComodoRSADomainValidationSecureServerCA.crt ComodoRSAAddTrustCA.crt AddTrustExternalCARoot.crt &gt; yourDomain.ca-bundle
</code></pre>
<br> 
<blockquote>
<p>Google CA Bundle ì˜ˆì‹œ</p>
</blockquote>
<p>ë¸Œë¼ìš°ì €ì˜ ë¸Œë¼ìš°ì§• ì°½ì— ğŸ”’ ëª¨ì–‘ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ë„ë©”ì¸ì— ëŒ€í•œ ì¸ì¦ì„œì˜ ì¢…ë¥˜, ìƒíƒœ ë“±ì„ ë³¼ ìˆ˜ ìˆëŠ”ë° google.comì˜ ì¸ì¦ì„œë¥¼ ì—´ì–´ë´¤ì„ ë•Œì—ë„ ì•„ë˜ì²˜ëŸ¼ ì¸ì¦ì„œê°€ ê³„ì¸µì„ ì´ë£¨ê³  ìˆë‹¤.</p>
<ul>
<li>end-entity ì¸ì¦ì„œ: *.<a href="http://google.com" target="_blank">google.com</a></li>
<li>Intermediate ì¸ì¦ì„œ: GTS CA 1C3</li>
<li>Root ì¸ì¦ì„œ: GTS Root R1</li>
</ul>
<br>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4665901319.png" >
<figcaption align = "center">[Picture 6] End Entity Certificate</figcaption>
<br>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666196141.png" >
<figcaption align = "center">[Picture 7] Intermediate Certificate</figcaption>
<br>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666687519.png" >
<figcaption align = "center">[Picture 8] Root Certificate</figcaption>
<br>
<h3 id="apply-ca-bundle">Apply CA Bundle</h3>
<p>CA bundleì„ ì„œë²„ í˜¸ìŠ¤íŠ¸ ì–´ë””ì—”ê°€ ë‹¤ìš´ë¡œë“œí•´ë‘ì—ˆë‹¤ë©´ í•´ë‹¹ ë„ë©”ì¸ì´ ë“±ë¡ë˜ì–´ìˆëŠ” Nginx ë“±ì˜ ì›¹ì„œë²„ì— CA Bundleê°€ ìˆëŠ” pathë¥¼ ì ì–´ì£¼ë©´ ëœë‹¤. ê·¸ëŸ¼ ì•Œì•„ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ CA Bundleì„ í•œêº¼ë²ˆì— ë„˜ê²¨ì¤€ë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ Bundleì„ í†µí•´ì„œ end-entityê°€ ë¯¿ì„ ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤. ì´ì™€ ê°™ì€ ê³¼ì •ì„ <strong>Chain of Trust</strong>ë¼ê³  í•œë‹¤.</p>
<p>ì¸ì¦ì„œë¥¼ ì„œë²„ì— ë‹¤ìš´ë¡œë“œ í•˜ëŠ” ê²ƒì„ â€˜installedâ€™ í•œë‹¤ê³  í‘œí˜„í•˜ëŠ”ë° ì‹¤ì œë¡œëŠ” ì¸ì¦ì„œë¥¼ ì„œë²„ì— ì„¤ì¹˜í•œë‹¤ê¸° ë³´ë‹¤ëŠ” íŠ¹ì • ë””ë ‰í„°ë¦¬ì— ë„£ì–´ë‘”ë‹¤.</p>
<br>
<blockquote>
<p>Letâ€™s encrypt ë¥¼ ì¸ì¦ì„œë¡œ ì‚¬ìš©í–ˆì„ ë•Œ Nginxì˜ configuration ì˜ˆì‹œ</p>
</blockquote>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>server <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        root /var/www/html;
</span></span><span style="display:flex;"><span>        index index.html index.htm index.nginx-debian.html;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        server_name www.test.me test.me;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        location / <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                try_files $uri $uri/ <span style="color:#f92672">=</span>404;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listen <span style="color:#f92672">[</span>::<span style="color:#f92672">]</span>:443 ssl http2; <span style="color:#75715e"># managed by Certbot</span>
</span></span><span style="display:flex;"><span>    listen <span style="color:#ae81ff">443</span> ssl http2; <span style="color:#75715e"># managed by Certbot</span>
</span></span><span style="display:flex;"><span>    ssl_certificate /etc/letsencrypt/live/test.me/fullchain.pem; <span style="color:#75715e"># managed by Certbot</span>
</span></span><span style="display:flex;"><span>    ssl_certificate_key /etc/letsencrypt/live/test.me/privkey.pem; <span style="color:#75715e"># managed by Certbot</span>
</span></span><span style="display:flex;"><span>    include /etc/letsencrypt/options-ssl-nginx.conf; <span style="color:#75715e"># managed by Certbot</span>
</span></span><span style="display:flex;"><span>    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; <span style="color:#75715e"># managed by Certbot</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p>14ë²ˆ ì¤„ì˜ ì˜ fullchain.pemì´ í•˜ë‚˜ë¡œ ì••ì¶•ì´ ëœ CA bundleì´ë‹¤. Letâ€™s encryptì—ì„œëŠ” ì²˜ìŒë¶€í„° í•˜ë‚˜ë¡œ ì••ì¶•ëœ ca-bundleì„ pem í˜•ì‹ìœ¼ë¡œ ì œê³µí•´ì¤€ë‹¤.</p>
<br> 
<h1 id="chain-of-trust">Chain of Trust</h1>
<h3 id="caê°€-ì„œëª…í•œ-ì¸ì¦ì„œì˜-ë‚´ë¶€-êµ¬ì¡°">CAê°€ ì„œëª…í•œ ì¸ì¦ì„œì˜ ë‚´ë¶€ êµ¬ì¡°</h3>
<p>CAê°€ ì„œëª…ì„ end-entityì˜ ì¸ì¦ì„œì— ì„œëª…ì„ í•˜ê²Œ ë˜ë©´ end-entityì˜ ì¸ì¦ì„œì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ì •ë³´ê°€ ì¶”ê°€ë˜ì–´ ë°œê¸‰ëœë‹¤.</p>
<ul>
<li>ëˆ„ê°€ ì„œëª…ì„ í–ˆëŠ”ì§€ (Issuer name)</li>
<li>Issuerì˜ Digital Signature (Issuerì˜ Private keyë¡œ ì„œëª…)</li>
<li>end-entity (Subject)ì˜ public key</li>
</ul>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666720302.png" >
<figcaption align = "center">[Picture 9] End Entity Certificate ë‚´ë¶€ êµ¬ì¡°</figcaption>
<br>
<h3 id="chain-of-trust-ê³¼ì •">Chain of Trust ê³¼ì •</h3>
<p>Chain of TrustëŠ” ë¸Œë¼ìš°ì €ê°€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” CAê°€ Issuerë¡œ ìˆëŠ” ì¸ì¦ì„œë¥¼ ì°¾ê¸° ê¹Œì§€ ëª¨ë“  layerì˜ ì¸ì¦ì„œë¥¼ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ë‹¤ë¥¸ ë§ë¡œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” CAê°€ ë°œê¸‰í•œ ì¸ì¦ì„œë¥¼ ì¦ëª…í•˜ëŠ” ê³¼ì •ì´ë‹¤.
ì°¸ê³ ë¡œ ë¸Œë¼ìš°ì €ì— Root CAì˜ ì¸ì¦ì„œë¥¼ ë³´ë‚´ë„ ëŒ€ë¶€ë¶„ì€ ê·¸ ì¸ì¦ì„œë¥¼ ì“°ì§€ ì•Šê³ , ë¸Œë¼ìš°ì €ì— ì´ë¯¸ ìì²´ì ìœ¼ë¡œ ì €ì¥ì´ ë˜ì–´ìˆëŠ” Root CA ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<br>
<h4 id="chain-ì‹œë‚˜ë¦¬ì˜¤">Chain ì‹œë‚˜ë¦¬ì˜¤</h4>
<ol>
<li>End-entityì˜ ì¸ì¦ì„œ ì œì¶œ
<ul>
<li>End-entityëŠ” ë¸Œë¼ìš°ì €ê°€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” CAê°€ ì•„ë‹ˆë‹¤.</li>
</ul>
</li>
<li>End-entityì˜ Issuerë¥¼ í™•ì¸í•œë‹¤.
<ul>
<li>Intermediate CAê°€ Issuerë¡œ ë˜ì–´ìˆë‹¤.</li>
<li>Intermediate CAëŠ” ë¸Œë¼ìš°ì €ê°€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” CAê°€ ì•„ë‹ˆë‹¤.</li>
</ul>
</li>
<li>intermediate CAì˜ Issuerë¥¼ í™•ì¸í•œë‹¤.
<ul>
<li>Root CAê°€ Issuerë¡œ ë˜ì–´ìˆë‹¤.</li>
<li>Root CAëŠ” ë¸Œë¼ìš°ì €ê°€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” CAë‹¤.</li>
</ul>
</li>
<li>Root CAì˜ digital signatureë¥¼ ë¸Œë¼ìš°ì €ê°€ ì´ë¯¸ ê°€ì§€ê³  ìˆëŠ” Root CAì˜ public keyë¡œ verifyí•œë‹¤.
<ul>
<li>Root CA digital signature verify ì™„ë£Œ.</li>
</ul>
</li>
<li><strong>Root CA â†’ Intermediate CA â†’ End-entity ëª¨ë‘ chain of trustë¥¼ í†µí•´ì„œ ë¯¿ì„ ìˆ˜ ìˆëŠ” ì¸ì¦ì„œê°€ ëœë‹¤.</strong></li>
</ol>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4668096789.png" >
<figcaption align = "center">[Picture 10] Chain of Trust ê³¼ì •</figcaption>
<br>
<h3 id="chain-ê³„ì¸µ">Chain ê³„ì¸µ</h3>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4668719189.png" >
<figcaption align = "center">[Picture 11] Chain ê³„ì¸µ</figcaption>
<br>
<h4 id="root-certificate-aka-trust-anchor">Root Certificate AKA Trust Anchor</h4>
<ul>
<li>ìµœìƒë‹¨ì¸ RootëŠ” ë³´ì¦í•´ ì¤„ ê³³ì´ ì—†ê¸° ë•Œë¬¸ì— Root CAëŠ” self-signedì„ í•œë‹¤.
<ul>
<li>OS, ì„œë“œíŒŒí‹° ì›¹ ë¸Œë¼ìš°ì €, í´ë¼ì´ì–¸íŠ¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ Root CAì˜ ì¸ì¦ì„œë¥¼ ì‚¬ì „ì— ì„¤ì¹˜í•´ë‘”ë‹¤.</li>
</ul>
</li>
<li>clinetëŠ” chain of trustë¥¼ í†µí•´ì„œ end-entityê°€ Root ì— ì¸ì¦ì´ ë˜ì—ˆëŠ”ì§€ ì‹ë³„í•  ìˆ˜ ìˆë‹¤.</li>
<li>Rootê°€ end-entityì— ì§ì ‘ ì„œëª…í•˜ëŠ” ì¼ì€ ê±°ì˜ ì—†ê³ , ì¤‘ê°„ì— í•˜ë‚˜ ë˜ëŠ” ì—¬ëŸ¬ ê°œì˜ Intermediate CAê°€ ì„œëª…ì„ í•œë‹¤.
<ul>
<li>Rootì˜ Private keyê°€ ë³€ê²½ì´ ë˜ì—ˆë‹¤ë©´ í•´ë‹¹ Private keyë¡œ ë°œê¸‰ë°›ì€ ëª¨ë“  ì¸ì¦ì„œë¥¼ ì¬ë°œê¸‰ í•´ì•¼ í•œë‹¤.</li>
</ul>
</li>
</ul>
<br>
<h4 id="intermediate-certificate">Intermediate Certificate</h4>
<ul>
<li>ê±°ì˜ ëª¨ë“  SSL ì¸ì¦ì„œ chainì—ëŠ” ìµœì†Œ í•˜ë‚˜ì˜ Intermediate CAê°€ ë“¤ì–´ê°€ ìˆë‹¤.</li>
<li>Intermediate CAëŠ” Root CAì˜ ì‹ ë¢°ì„±(trustworthy)ì˜ í™•ì¥ì— í•„ìˆ˜ì ì¸ ì—°ê²°ì ì´ê³ , Root CAì™€ end-entityì— ì¶”ê°€ì ì¸ ë³´ì•ˆ ë ˆë²¨ì´ ëœë‹¤.</li>
</ul>
<br>
<h4 id="end-entity-certificate">End-entity Certificate</h4>
<ul>
<li>End-entityì˜ ì¸ì¦ì„œëŠ” ë³´ì•ˆ, í™•ì¥ì„±, CA compliance ë“±ì„ ì œê³µí•˜ì§€ë§Œ, ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì€ ëŒ€ìƒ (subject)ì˜ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ì§€ëŠ” ëª»í•œë‹¤.</li>
<li>End-entityëŠ” í¬ë¦¬í‹°ì»¬í•œ ì •ë³´ë¥¼ CSRì— ë‹´ì•„ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•´ì£¼ëŠ” CA(issuer)ì—ê²Œ ì œì¶œí•˜ê³ , CAê°€ íŒë‹¨í•˜ê¸°ì— ì œì¶œëœ ì •ë³´ê°€ ë¯¿ì„ ìˆ˜ ìˆë‹¤ë©´ CAì˜ Private keyë¡œ ì„œëª…ì„ í•œ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•´ì¤€ë‹¤.</li>
<li>ì´ ì¸ì¦ì„œê°€ verified ë˜ëŠ” signed ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ SSL connectionì€ ì‹¤íŒ¨í•œë‹¤.</li>
</ul>
<br>
<h1 id="plusì¸ì¦ì„œê°€-ì‚¬ìš©ë˜ëŠ”-í”„ë¡œì„¸ìŠ¤-ëª¨ì‹ë„">(plus)ì¸ì¦ì„œê°€ ì‚¬ìš©ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ëª¨ì‹ë„</h1>
<br> 
<blockquote>
<p>ë¸Œë¼ìš°ì €ì™€ ì„œë²„ì˜ request - response ê³¼ì • ëª¨ì‹ë„</p>
</blockquote>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666294308.png" >
<figcaption align = "center">[Picture 11] request - response ê³¼ì • ëª¨ì‹ë„</figcaption>
<br>
<ol>
<li>ë¸Œë¼ìš°ì €ê°€ <a href="http://youtube.com" target="_blank">youtube.com</a> ì„ ìš”ì²­í•œë‹¤.</li>
<li>youtubeê°€ ì¸ì¦ì„œ ë²ˆë“¤ì„ ë¸Œë¼ìš°ì €ì— ì œì¶œí•œë‹¤.</li>
<li>ë¸Œë¼ìš°ì €ëŠ” ìì‹ ì˜ CA public key ë¦¬ìŠ¤íŠ¸ë¡œ ì„œë²„ê°€ ì œì¶œí•œ ì¸ì¦ì„œê°€ ì •ë§ë¡œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” CAì— ì˜í•´ ì„œëª…ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
<ul>
<li>Intermediate CAëŠ” ì§€ì •ëœ Root CAê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ì˜ ì…ì¥ì—ì„œëŠ” ë¯¿ì„ ìˆ˜ ì—†ëŠ” CAë‹¤.</li>
<li>ì œì¶œëœ ì¸ì¦ì„œ ë²ˆë“¤ì„ íƒ€ê³  ì˜¬ë¼ê°€ì„œ Root CAê¹Œì§€ ê°„ë‹¤.</li>
</ul>
</li>
<li>ì‹ ë¢°í•˜ê¸°ë¡œ í•œ ì¸ì¦ì„œì— ëª…ì‹œë˜ì–´ìˆëŠ” domain nameì´ë‚˜ ipê°€ ë§ë‹¤ë©´, ì„œë²„ì˜ public keyë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ì¹­í‚¤ë¥¼ ìƒì„±í•˜ì—¬ ì„œë²„ì™€ ê³µìœ í•œë‹¤.</li>
<li>ì´ ëŒ€ì¹­í‚¤ë¡œ connectionì˜ ëª¨ë“  íŠ¸ë˜í”½ì„ ì•”í˜¸í™”í•œë‹¤.
<ul>
<li>ëŒ€ì¹­í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¹„ëŒ€ì¹­í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ì•”í˜¸í™”í•˜ëŠ” ê²ƒë³´ë‹¤ íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì— ëŒ€ì¹­í‚¤ë¥´ë¥´ ì‚¬ìš©í•œë‹¤.</li>
<li>ë³µí˜¸í™”ëŠ” private keyë¥¼ ê°€ì§€ê³  ìˆëŠ” ì„œë²„ë§Œ ê°€ëŠ¥í•˜ë‹¤.</li>
</ul>
</li>
</ol>
<br>
<blockquote>
<p>CA-signed ì¸ì¦ì„œ ë°œê¸‰ ê³¼ì • ëª¨ì‹ë„</p>
</blockquote>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666196103.png" >
<figcaption align = "center">[Picture 12] CA-signed ì¸ì¦ì„œ ë°œê¸‰ ê³¼ì • ëª¨ì‹ë„</figcaption>
<br>
<blockquote>
<p>Self-signed ì¸ì¦ì„œ ë°œê¸‰ ê³¼ì • ëª¨ì‹ë„</p>
</blockquote>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/certificate/attachments/4565565736/4666490918.png" >
<figcaption align = "center">[Picture 13] Self-signed ì¸ì¦ì„œ ë°œê¸‰ ê³¼ì • ëª¨ì‹ë„</figcaption>
    </div>
</article>



<div class="post-comment" data-comment="utterances">
    <span class="post-comment-notloaded">
        <i class="iconfont icon-chatbox-ellipses-sharp"></i>&nbsp;Load comments
    </span>
    <script>
        function loadComment() {
            var commentArea = document.querySelector('.post-comment');
            var utterancesTheme = document.body.getAttribute('data-theme');
            if (utterancesTheme === 'auto') {
                utterancesTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'photon-dark' :
                    'github-light';
            } else {
                utterancesTheme = utterancesTheme === 'dark' ? 'photon-dark' : 'github-light';
            }
            var s = document.createElement('script');
            s.src = 'https://utteranc.es/client.js';
            s.setAttribute('repo', 'leeleelee3264\/github_io_comment');
            s.setAttribute('issue-term', 'pathname');
            s.setAttribute('theme', utterancesTheme);
            s.setAttribute('crossorigin', 'anonymous');
            s.setAttribute('async', '');
            document.querySelector('.post-comment').appendChild(s);
            document.querySelector('span.post-comment-notloaded').setAttribute('style', 'display: none;');
        }
    </script>
</div>


            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/leeleelee3264" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/seungmin4035/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/backend/">Backend</a>
            </span>
            
            <span>
                <a href="/tags/book/">Book</a>
            </span>
            
            <span>
                <a href="/tags/general/">General</a>
            </span>
            
            <span>
                <a href="/tags/infra/">Infra</a>
            </span>
            
            <span>
                <a href="/tags/project/">Project</a>
            </span>
            
        </div>
    </div>
    
</aside>

        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/leeleelee3264" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/seungmin4035/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/backend/">Backend</a>
            </span>
            
            <span>
                <a href="/tags/book/">Book</a>
            </span>
            
            <span>
                <a href="/tags/general/">General</a>
            </span>
            
            <span>
                <a href="/tags/infra/">Infra</a>
            </span>
            
            <span>
                <a href="/tags/project/">Project</a>
            </span>
            
        </div>
    </div>
    
    
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2020-2022
                <a href="https://leeleelee3264.github.io/">leeleelee3264</a>
                 | <a href="https://github.com/leeleelee3264/leeleelee3264.github.io">Source code</a> 
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>



</body>

</html>
